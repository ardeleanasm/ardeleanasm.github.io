<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />


	<title>Quantum Computing in Haskell - IV part · Just Computer Engineering</title>


<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mihaiseba" />
<meta name="twitter:title" content="Quantum Computing in Haskell - IV part" />
<meta name="twitter:description" content="Articles">

<meta name="description" content="Articles">



<link rel="icon" href="/assets/favicon.png">
<link rel="apple-touch-icon" href="/assets/touch-icon.png">
<link rel="stylesheet" href="/assets/core.css">
<link rel="canonical" href="/Quantum-Computing-in-Haskell-fourth-part/">
<link rel="alternate" type="application/atom+xml" title="Just Computer Engineering" href="/feed.xml" />




<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


		<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54128414-2', 'auto');
  ga('send', 'pageview');

</script>
	</head>

	<body>

		<aside class="logo">

	

	<a href="/">
		<img src="http://www.gravatar.com/avatar/0afb9a47eb6654437c6986283cff151c.png?s=80" class="gravatar">
	</a>
</aside>
<div align="center">
	<a href="/">Home</a>
	<a href="/about">About</a>
	<a href="/articles">Articles</a>
	<a href="https://github.com/ardeleanasm" target="_blank">Projects</a>
	<a href="/archive">Archive</a>
	<a href="/categories">Categories</a>
	<a href="/tags">Tags</a>
    
</div>
<div align="center">
	<p><article><font color="blue">
</font></article></p>
</div>	


		<article>
			<article>

	<div class="center">
		<h1>Quantum Computing in Haskell - IV part</h1>
		<time>August 18, 2017</time>
	</div>

	<div class="divider"></div>

	<h2 id="articles">Articles</h2>

<ul>
  <li><a href="https://ardeleanasm.github.io/Quantum-Computing-in-Haskell/">Quantum Computing in Haskell - I part</a></li>
  <li><a href="https://ardeleanasm.github.io/Quantum-Computing-in-Haskell-second-part/">Quantum Computing in Haskell - II part</a></li>
  <li><a href="https://ardeleanasm.github.io/Quantum-Computing-in-Haskell-third-part/">Quantum Computing in Haskell - III part</a></li>
  <li><a href="https://ardeleanasm.github.io/Quantum-Computing-in-Haskell-fourth-part/">Quantum Computing in Haskell - IV part</a></li>
  <li><a href="https://github.com/ardeleanasm/qchas">Github Repository</a></li>
  <li><a href="https://ardeleanasm.github.io/qchas/">Project’s Haddock Documentation</a></li>
  <li><a href="https://hackage.haskell.org/package/qchas">QChas Package</a></li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>In the previous articles, first three parts, I presented some haskell code to implement basic operators for simulating Quantum Algorithms. The full source code can be downloaded from <a href="https://github.com/ardeleanasm/qchas">Github Repository</a>. The library was also published on <a href="https://hackage.haskell.org/package/qchas">Hackage</a> and also on <a href="https://www.stackage.org/nightly-2017-08-17/package/qchas-1.0.1.0">Stackage</a> and is available with 2 versions, 1.0.0 and 1.0.1.0. Starting from version 1.0.1.0 the <strong>Utils</strong> module was removed and also, a new module for performing measurements was added. These articles will be also used as documentation/ wiki for the library.</p>

<p>In this fourth part we will start to present some Quantum Algorithms and we will start with one of the simplest ones, Deutsch’s algorithm. In the next articles from the serie we will talk about Deutsch-Jozsa’s algorithm, Grover’s and Shor.</p>

<h2 id="background">Background</h2>

<p>As I said in a previous article when I implemented this algorithm in Java, the problem that Deutsch’s algorithm solves is not an important one in Computer Science but it’s a good example to see the power of quantum computers, being solved by a quantum computer faster than by a traditional one, although not exponentially faster.</p>

<p>So, let’s suppose that we have a function f with 1-bit input and 1-bit output. There are four possible functions, two of them are constant and two are balanced, as we can see in the table below.</p>

<table style="border:1px solid black;">
  <tr>
    <th style="border:1px solid black;">Function</th>
    <th style="border:1px solid black;">Type</th> 
  </tr>
  <tr>
    <td style="border:1px solid black;">f<sub>1</sub>(0)=0<br /> f<sub>1</sub>(1)=0</td>
    <td style="border:1px solid black;">constant</td> 
  </tr>
  <tr>
    <td style="border:1px solid black;">f<sub>2</sub>(0)=1<br /> f<sub>2</sub>(1)=1  </td>
    <td style="border:1px solid black;">constant</td> 
  </tr>
  <tr>
    <td style="border:1px solid black;">f<sub>3</sub>(0)=0<br /> f<sub>3</sub>(1)=1</td>
    <td style="border:1px solid black;">balanced</td> 
  </tr>
  <tr>
    <td style="border:1px solid black;">f<sub>4</sub>(0)=1<br /> f<sub>4</sub>(1)=0</td>
    <td style="border:1px solid black;">balanced</td> 
  </tr>
</table>

<p>The goal is to determine whether the function is constant or not. Let’s say that we implement such a function on a classic computer:</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">main</span><span class="o">::</span><span class="kt">IO</span> <span class="nb">()</span>
<span class="n">main</span><span class="o">=</span><span class="kr">do</span>
  <span class="n">print</span> <span class="o">$</span> <span class="n">testFunction</span> <span class="n">f1</span>
  <span class="n">print</span> <span class="o">$</span> <span class="n">testFunction</span> <span class="n">f2</span>
  <span class="n">print</span> <span class="o">$</span> <span class="n">testFunction</span> <span class="n">f3</span>
  <span class="n">print</span> <span class="o">$</span> <span class="n">testFunction</span> <span class="n">f4</span>

<span class="n">f1</span><span class="o">::</span><span class="kt">Int</span><span class="o">-&gt;</span><span class="kt">Int</span>
<span class="n">f1</span> <span class="n">val</span><span class="o">=</span><span class="mi">0</span>

<span class="n">f2</span><span class="o">::</span><span class="kt">Int</span><span class="o">-&gt;</span><span class="kt">Int</span>
<span class="n">f2</span> <span class="n">val</span><span class="o">=</span><span class="mi">1</span>

<span class="n">f3</span><span class="o">::</span><span class="kt">Int</span><span class="o">-&gt;</span><span class="kt">Int</span>
<span class="n">f3</span> <span class="n">val</span><span class="o">=</span><span class="n">val</span>

<span class="n">f4</span><span class="o">::</span><span class="kt">Int</span><span class="o">-&gt;</span><span class="kt">Int</span>
<span class="n">f4</span> <span class="n">val</span>
  <span class="o">|</span> <span class="n">val</span><span class="o">==</span><span class="mi">0</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="o">|</span> <span class="n">val</span><span class="o">==</span><span class="mi">1</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">testFunction</span><span class="o">::</span><span class="p">(</span><span class="kt">Int</span><span class="o">-&gt;</span><span class="kt">Int</span><span class="p">)</span><span class="o">-&gt;</span><span class="kt">String</span>
<span class="n">testFunction</span> <span class="n">f</span>
  <span class="o">|</span><span class="n">f</span> <span class="mi">0</span> <span class="o">==</span> <span class="n">f</span> <span class="mi">1</span><span class="o">=</span> <span class="s">"Constant"</span>
  <span class="o">|</span><span class="n">otherwise</span><span class="o">=</span> <span class="s">"Balanced"</span>
</code></pre></div></div>
<p>and the output will be:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"Constant"
"Constant"
"Balanced"
"Balanced"
</code></pre></div></div>

<p>It can be easily seen that to check if a function is constant or balanced on a classical computer we need two calls to that function, basically we evaluate the function twice. We will see next that by using Deutsch’s algorithm the problem can be solved by evaluating the function only once.</p>

<p><img src="http://ardeleanasm.github.io/resources/deutsch_quantum_circuits.png" alt="The quantum circuit of Deutsch’s algorithm[1]" /></p>

<p>The quantum circuit that we will have to implement can be seen in the picture above and basically we will have to:</p>

<ul>
  <li>Apply <strong>X-Gate</strong> on the second qubit</li>
  <li>Apply <script type="math/tex">H^2</script> gate, the Kronecker product between two <strong>Hadamard</strong> Gates</li>
  <li>Apply the gate ( or “oracle”) <script type="math/tex">U_f</script></li>
  <li>Apply Hadamard Gate again on the first qubit</li>
  <li>Measure the circuit</li>
</ul>

<h2 id="implementation">Implementation</h2>

<p>First of all, let’s define the unitary transformations for all four functions:</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">--f(0)=0 and f(1)=0</span>
<span class="n">f1</span><span class="o">::</span><span class="kt">Gate</span>
<span class="n">f1</span><span class="o">=</span><span class="kt">Gate</span> <span class="p">((</span><span class="mi">4</span><span class="o">&gt;&lt;</span><span class="mi">4</span><span class="p">)</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
                <span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
                <span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span>
                <span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">::</span><span class="kt">Matrix</span> <span class="kt">C</span><span class="p">)</span>
<span class="c1">--f(0)=1 and f(1)=1</span>
<span class="n">f2</span><span class="o">::</span><span class="kt">Gate</span>
<span class="n">f2</span><span class="o">=</span><span class="kt">Gate</span> <span class="p">((</span><span class="mi">4</span><span class="o">&gt;&lt;</span><span class="mi">4</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
                <span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
                <span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>
                <span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">::</span><span class="kt">Matrix</span> <span class="kt">C</span><span class="p">)</span>
<span class="c1">--f(0)=0 and f(1)=1</span>
<span class="n">f3</span><span class="o">::</span><span class="kt">Gate</span>
<span class="n">f3</span><span class="o">=</span><span class="kt">Gate</span> <span class="p">((</span><span class="mi">4</span><span class="o">&gt;&lt;</span><span class="mi">4</span><span class="p">)</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
                <span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
                <span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>
                <span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">::</span><span class="kt">Matrix</span> <span class="kt">C</span><span class="p">)</span>
<span class="c1">--f(0)=1 and f(1)=0</span>
<span class="n">f4</span><span class="o">::</span><span class="kt">Gate</span>
<span class="n">f4</span><span class="o">=</span><span class="kt">Gate</span> <span class="p">((</span><span class="mi">4</span><span class="o">&gt;&lt;</span><span class="mi">4</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
                <span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
                <span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span>
                <span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">::</span><span class="kt">Matrix</span> <span class="kt">C</span><span class="p">)</span>                
</code></pre></div></div>

<p>The next step is to define a function that will test all the four functions:</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">testDeutschsAlgorithm</span><span class="o">::</span><span class="kt">IO</span><span class="nb">()</span>
<span class="n">testDeutschsAlgorithm</span><span class="o">=</span><span class="n">mapM_</span> <span class="n">deutsch</span> <span class="p">[</span><span class="n">f1</span><span class="p">,</span><span class="n">f2</span><span class="p">,</span><span class="n">f3</span><span class="p">,</span><span class="n">f4</span><span class="p">]</span>
</code></pre></div></div>

<p>Now, let’s implement the algorithm:</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">deutsch</span><span class="o">::</span><span class="kt">Gate</span><span class="o">-&gt;</span><span class="kt">IO</span><span class="nb">()</span>
<span class="n">deutsch</span> <span class="n">oracle</span><span class="o">=</span><span class="kr">do</span> <span class="kr">let</span> <span class="p">(</span><span class="n">result</span><span class="o">:</span><span class="kr">_</span><span class="p">)</span><span class="o">=</span><span class="n">measure</span> <span class="n">circuit</span>
                  <span class="kr">case</span> <span class="n">result</span> <span class="kr">of</span>
                    <span class="sc">'0'</span> <span class="o">-&gt;</span> <span class="n">putStrLn</span> <span class="s">"Function is constant"</span>
                    <span class="sc">'1'</span> <span class="o">-&gt;</span> <span class="n">putStrLn</span> <span class="s">"Function is balanced"</span>
                    <span class="kr">_</span>   <span class="o">-&gt;</span> <span class="n">return</span><span class="nb">()</span>
    <span class="kr">where</span>
        <span class="n">gateHadamardOnTwoQubits</span><span class="o">=</span><span class="p">(</span><span class="n">hGate</span> <span class="o">&lt;+&gt;</span> <span class="n">hGate</span><span class="p">)</span>
        <span class="n">circuit</span><span class="o">=</span><span class="n">entangle</span> <span class="n">qZero</span> <span class="p">(</span><span class="n">qZero</span> <span class="o">|&gt;</span> <span class="n">xGate</span><span class="p">)</span> <span class="o">|&gt;</span> <span class="n">gateHadamardOnTwoQubits</span> <span class="o">|&gt;</span> <span class="n">oracle</span> <span class="o">|&gt;</span> <span class="n">gateHadamardOnTwoQubits</span>
        <span class="n">measure</span> <span class="n">q</span><span class="o">=</span><span class="kr">let</span> <span class="n">result</span><span class="o">=</span><span class="n">map</span><span class="p">(</span><span class="nf">\</span><span class="n">c</span><span class="o">-&gt;</span><span class="n">round</span> <span class="p">(</span><span class="n">realPart</span> <span class="p">(</span><span class="n">c</span> <span class="o">*</span> <span class="n">conjugate</span> <span class="n">c</span><span class="p">)))</span> <span class="p">(</span><span class="n">toList</span> <span class="o">.</span> <span class="n">flatten</span> <span class="o">$</span> <span class="n">qubitState</span> <span class="n">q</span><span class="p">)</span>        
                  <span class="kr">in</span> <span class="kr">case</span> <span class="n">result</span> <span class="kr">of</span>
                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="s">"01"</span>
                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-&gt;</span><span class="s">"11"</span>
                    <span class="kr">_</span>        <span class="o">-&gt;</span><span class="s">"??"</span>
</code></pre></div></div>

<p>If we run the code we will have:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ghci&gt;testDeutschsAlgorithm
Function is constant
Function is constant
Function is balanced
Function is balanced

</code></pre></div></div>

<h2 id="conclusions">Conclusions</h2>

<p>As we can see in this first example, running an algorithm, even a simple one, on a quantum computer can be faster than running it on a classical computer.</p>

<p>About the implemented library, as I said, you can download it from the links that I specified before and these articles and examples of code will be used as a “How to use..” for the library.</p>



	
<div class="comments">
	<div id="disqus_thread"></div>
	<script type="text/javascript">

	    var disqus_shortname = '23ars';

	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();

	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

</article>

<div class="page-navigation">
	
    <a class="next" href="/How-to-transform-list-to-map-in-Scala/" title="NEXT: How to transform a List to a Map in Scala">&lt;&lt;</a>
		<span> &middot; </span>
  
		<a class="home" href="/" title="Back to Homepage">Home</a>
  
		<span> &middot; </span>
    <a class="prev" href="/Quantum-Computing-in-Haskell-third-part/" title="PREV: Quantum Computing in Haskell - III part">&gt;&gt;</a>
  
</div>

		</article>>

		<div class="footer">
  <div align="center">
  <link rel="stylesheet" href="/assets/core.css">





<a href="https://github.com/ardeleanasm"><i class="svg-icon github"></i></a>

<a href="https://www.linkedin.com/in/ardelean-sebastian-mihai"><i class="svg-icon linkedin"></i></a>

<a href="/feed.xml"><i class="svg-icon rss"></i></a>
<a href="https://www.twitter.com/mihaiseba"><i class="svg-icon twitter"></i></a>
<a href="http://stackoverflow.com/users/1462225/23ars"><i class="svg-icon stackoverflow"></i></a>

  
  </div>
  <span class="block">&copy; 2019 Mihai Seba</span>
</div>


	</body>

</html>
