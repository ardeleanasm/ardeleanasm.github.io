<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Quantum Computing in Haskell - IV part</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../css/blogstyle.css" />
</head>
<body>
<div class="header"> <a href="../blog.html">&larr; Posts</a> </div>
<header>
<h1 class="title">Quantum Computing in Haskell - IV part</h1>
</header>
<div class="header">
<a href="../blog.html">← Posts</a>
</div>
<div class="header">
<a href="../blog.html">← Posts</a>
</div>
<h2 id="articles">Articles</h2>
<ul>
<li><a href="./2017-07-26-Quantum-Computing-in-Haskell.html">Quantum Computing in Haskell - I part</a></li>
<li><a href="./2017-07-28-Quantum-Computing-in-Haskell-second-part.html">Quantum Computing in Haskell - II part</a></li>
<li><a href="./2017-08-01-Quantum-Computing-in-Haskell-third-part.html">Quantum Computing in Haskell - III part</a></li>
<li><a href="./2017-08-18-Quantum-Computing-in-Haskell-fourth-part.html">Quantum Computing in Haskell - IV part</a></li>
<li><a href="https://github.com/ardeleanasm/qchas">Github Repository</a></li>
<li><a href="https://ardeleanasm.github.io/qchas/">Project’s Haddock Documentation</a></li>
<li><a href="https://hackage.haskell.org/package/qchas">QChas Package</a></li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>In the previous articles, first three parts, I presented some haskell code to implement basic operators for simulating Quantum Algorithms. The full source code can be downloaded from <a href="https://github.com/ardeleanasm/qchas">Github Repository</a>. The library was also published on <a href="https://hackage.haskell.org/package/qchas">Hackage</a> and also on <a href="https://www.stackage.org/nightly-2017-08-17/package/qchas-1.0.1.0">Stackage</a> and is available with 2 versions, 1.0.0 and 1.0.1.0. Starting from version 1.0.1.0 the <strong>Utils</strong> module was removed and also, a new module for performing measurements was added. These articles will be also used as documentation/ wiki for the library.</p>
<p>In this fourth part we will start to present some Quantum Algorithms and we will start with one of the simplest ones, Deutsch’s algorithm. In the next articles from the serie we will talk about Deutsch-Jozsa’s algorithm, Grover’s and Shor.</p>
<h2 id="background">Background</h2>
<p>As I said in a previous article when I implemented this algorithm in Java, the problem that Deutsch’s algorithm solves is not an important one in Computer Science but it’s a good example to see the power of quantum computers, being solved by a quantum computer faster than by a traditional one, although not exponentially faster.</p>
<p>So, let’s suppose that we have a function f with 1-bit input and 1-bit output. There are four possible functions, two of them are constant and two are balanced, as we can see in the table below.</p>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>f<sub>1</sub>(0)=0<br />
f<sub>1</sub>(1)=0</td>
<td>constant</td>
</tr>
<tr class="even">
<td>f<sub>2</sub>(0)=1<br />
f<sub>2</sub>(1)=1</td>
<td>constant</td>
</tr>
<tr class="odd">
<td>f<sub>3</sub>(0)=0<br />
f<sub>3</sub>(1)=1</td>
<td>balanced</td>
</tr>
<tr class="even">
<td>f<sub>4</sub>(0)=1<br />
f<sub>4</sub>(1)=0</td>
<td>balanced</td>
</tr>
</tbody>
</table>
<p>The goal is to determine whether the function is constant or not. Let’s say that we implement such a function on a classic computer:</p>
<div id="cb1" class="sourceCode">
<div id="cb1" class="sourceCode">
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1"><span class="ot">main::</span><span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb1-2" title="2">main<span class="fu">=</span><span class="kw">do</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="fu">print</span> <span class="fu">$</span> testFunction f1</a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="fu">print</span> <span class="fu">$</span> testFunction f2</a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="fu">print</span> <span class="fu">$</span> testFunction f3</a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="fu">print</span> <span class="fu">$</span> testFunction f4</a>
<a class="sourceLine" id="cb1-7" title="7"></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="ot">f1::</span><span class="dt">Int</span><span class="ot">-&gt;</span><span class="dt">Int</span></a>
<a class="sourceLine" id="cb1-9" title="9">f1 val<span class="fu">=</span><span class="dv">0</span></a>
<a class="sourceLine" id="cb1-10" title="10"></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="ot">f2::</span><span class="dt">Int</span><span class="ot">-&gt;</span><span class="dt">Int</span></a>
<a class="sourceLine" id="cb1-12" title="12">f2 val<span class="fu">=</span><span class="dv">1</span></a>
<a class="sourceLine" id="cb1-13" title="13"></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="ot">f3::</span><span class="dt">Int</span><span class="ot">-&gt;</span><span class="dt">Int</span></a>
<a class="sourceLine" id="cb1-15" title="15">f3 val<span class="fu">=</span>val</a>
<a class="sourceLine" id="cb1-16" title="16"></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="ot">f4::</span><span class="dt">Int</span><span class="ot">-&gt;</span><span class="dt">Int</span></a>
<a class="sourceLine" id="cb1-18" title="18">f4 val</a>
<a class="sourceLine" id="cb1-19" title="19">  <span class="fu">|</span> val<span class="fu">==</span><span class="dv">0</span> <span class="fu">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-20" title="20">  <span class="fu">|</span> val<span class="fu">==</span><span class="dv">1</span> <span class="fu">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb1-21" title="21"></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="ot">testFunction::</span>(<span class="dt">Int</span><span class="ot">-&gt;</span><span class="dt">Int</span>)<span class="ot">-&gt;</span><span class="dt">String</span></a>
<a class="sourceLine" id="cb1-23" title="23">testFunction f</a>
<a class="sourceLine" id="cb1-24" title="24">  <span class="fu">|</span>f <span class="dv">0</span> <span class="fu">==</span> f <span class="dv">1</span><span class="fu">=</span> <span class="st">&quot;Constant&quot;</span></a>
<a class="sourceLine" id="cb1-25" title="25">  <span class="fu">|otherwise=</span> <span class="st">&quot;Balanced&quot;</span></a></code></pre></div>
</div>
</div>
<p>and the output will be:</p>
<pre><code>&quot;Constant&quot;
&quot;Constant&quot;
&quot;Balanced&quot;
&quot;Balanced&quot;</code></pre>
<p>It can be easily seen that to check if a function is constant or balanced on a classical computer we need two calls to that function, basically we evaluate the function twice. We will see next that by using Deutsch’s algorithm the problem can be solved by evaluating the function only once.</p>
<figure>
<img src="../img/blog/deutsch_quantum_circuits.png" alt="The quantum circuit of Deutsch’s algorithm1" /><figcaption>The quantum circuit of Deutsch’s algorithm<a href="https://github.com/ardeleanasm/qchas">1</a></figcaption>
</figure>
<p>The quantum circuit that we will have to implement can be seen in the picture above and basically we will have to:</p>
<ul>
<li>Apply <strong>X-Gate</strong> on the second qubit</li>
<li>Apply<br />
<span class="math display"><em>H</em><sup>2</sup></span><br />
gate, the Kronecker product between two <strong>Hadamard</strong> Gates</li>
<li>Apply the gate ( or “oracle”)<br />
<span class="math display"><em>U</em><sub><em>f</em></sub></span><br />
</li>
<li>Apply Hadamard Gate again on the first qubit</li>
<li>Measure the circuit</li>
</ul>
<h2 id="implementation">Implementation</h2>
<p>First of all, let’s define the unitary transformations for all four functions:</p>
<div id="cb3" class="sourceCode">
<div id="cb3" class="sourceCode">
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" title="1"><span class="co">--f(0)=0 and f(1)=0</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="ot">f1::</span><span class="dt">Gate</span></a>
<a class="sourceLine" id="cb3-3" title="3">f1<span class="fu">=</span><span class="dt">Gate</span> ((<span class="dv">4</span><span class="fu">&gt;&lt;</span><span class="dv">4</span>) [<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span></a>
<a class="sourceLine" id="cb3-4" title="4">                ,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span></a>
<a class="sourceLine" id="cb3-5" title="5">                ,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span></a>
<a class="sourceLine" id="cb3-6" title="6">                ,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>]<span class="ot">::</span><span class="dt">Matrix</span> <span class="dt">C</span>)</a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">--f(0)=1 and f(1)=1</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="ot">f2::</span><span class="dt">Gate</span></a>
<a class="sourceLine" id="cb3-9" title="9">f2<span class="fu">=</span><span class="dt">Gate</span> ((<span class="dv">4</span><span class="fu">&gt;&lt;</span><span class="dv">4</span>) [<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span></a>
<a class="sourceLine" id="cb3-10" title="10">                ,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span></a>
<a class="sourceLine" id="cb3-11" title="11">                ,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span></a>
<a class="sourceLine" id="cb3-12" title="12">                ,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>]<span class="ot">::</span><span class="dt">Matrix</span> <span class="dt">C</span>)</a>
<a class="sourceLine" id="cb3-13" title="13"><span class="co">--f(0)=0 and f(1)=1</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="ot">f3::</span><span class="dt">Gate</span></a>
<a class="sourceLine" id="cb3-15" title="15">f3<span class="fu">=</span><span class="dt">Gate</span> ((<span class="dv">4</span><span class="fu">&gt;&lt;</span><span class="dv">4</span>) [<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span></a>
<a class="sourceLine" id="cb3-16" title="16">                ,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span></a>
<a class="sourceLine" id="cb3-17" title="17">                ,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span></a>
<a class="sourceLine" id="cb3-18" title="18">                ,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>]<span class="ot">::</span><span class="dt">Matrix</span> <span class="dt">C</span>)</a>
<a class="sourceLine" id="cb3-19" title="19"><span class="co">--f(0)=1 and f(1)=0</span></a>
<a class="sourceLine" id="cb3-20" title="20"><span class="ot">f4::</span><span class="dt">Gate</span></a>
<a class="sourceLine" id="cb3-21" title="21">f4<span class="fu">=</span><span class="dt">Gate</span> ((<span class="dv">4</span><span class="fu">&gt;&lt;</span><span class="dv">4</span>) [<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span></a>
<a class="sourceLine" id="cb3-22" title="22">                ,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span></a>
<a class="sourceLine" id="cb3-23" title="23">                ,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span></a>
<a class="sourceLine" id="cb3-24" title="24">                ,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>]<span class="ot">::</span><span class="dt">Matrix</span> <span class="dt">C</span>)                </a></code></pre></div>
</div>
</div>
<p>The next step is to define a function that will test all the four functions:</p>
<div id="cb4" class="sourceCode">
<div id="cb4" class="sourceCode">
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb4-1" title="1"><span class="ot">testDeutschsAlgorithm::</span><span class="dt">IO</span>()</a>
<a class="sourceLine" id="cb4-2" title="2">testDeutschsAlgorithm<span class="fu">=mapM_</span> deutsch [f1,f2,f3,f4]</a></code></pre></div>
</div>
</div>
<p>Now, let’s implement the algorithm:</p>
<div id="cb5" class="sourceCode">
<div id="cb5" class="sourceCode">
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb5-1" title="1"><span class="ot">deutsch::</span><span class="dt">Gate</span><span class="ot">-&gt;</span><span class="dt">IO</span>()</a>
<a class="sourceLine" id="cb5-2" title="2">deutsch oracle<span class="fu">=</span><span class="kw">do</span> <span class="kw">let</span> (result<span class="fu">:</span>_)<span class="fu">=</span>measure circuit</a>
<a class="sourceLine" id="cb5-3" title="3">                  <span class="kw">case</span> result <span class="kw">of</span></a>
<a class="sourceLine" id="cb5-4" title="4">                    <span class="ch">&#39;0&#39;</span> <span class="ot">-&gt;</span> <span class="fu">putStrLn</span> <span class="st">&quot;Function is constant&quot;</span></a>
<a class="sourceLine" id="cb5-5" title="5">                    <span class="ch">&#39;1&#39;</span> <span class="ot">-&gt;</span> <span class="fu">putStrLn</span> <span class="st">&quot;Function is balanced&quot;</span></a>
<a class="sourceLine" id="cb5-6" title="6">                    _   <span class="ot">-&gt;</span> <span class="fu">return</span>()</a>
<a class="sourceLine" id="cb5-7" title="7">    <span class="kw">where</span></a>
<a class="sourceLine" id="cb5-8" title="8">        gateHadamardOnTwoQubits<span class="fu">=</span>(hGate <span class="fu">&lt;+&gt;</span> hGate)</a>
<a class="sourceLine" id="cb5-9" title="9">        circuit<span class="fu">=</span>entangle qZero (qZero <span class="fu">|&gt;</span> xGate) <span class="fu">|&gt;</span> gateHadamardOnTwoQubits <span class="fu">|&gt;</span> oracle <span class="fu">|&gt;</span> gateHadamardOnTwoQubits</a>
<a class="sourceLine" id="cb5-10" title="10">        measure q<span class="fu">=</span><span class="kw">let</span> result<span class="fu">=map</span>(\c<span class="ot">-&gt;</span><span class="fu">round</span> (realPart (c <span class="fu">*</span> conjugate c))) (toList <span class="fu">.</span> flatten <span class="fu">$</span> qubitState q)        </a>
<a class="sourceLine" id="cb5-11" title="11">                  <span class="kw">in</span> <span class="kw">case</span> result <span class="kw">of</span></a>
<a class="sourceLine" id="cb5-12" title="12">                    [<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>]<span class="ot">-&gt;</span><span class="st">&quot;01&quot;</span></a>
<a class="sourceLine" id="cb5-13" title="13">                    [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>]<span class="ot">-&gt;</span><span class="st">&quot;11&quot;</span></a>
<a class="sourceLine" id="cb5-14" title="14">                    _        <span class="ot">-&gt;</span><span class="st">&quot;??&quot;</span></a></code></pre></div>
</div>
</div>
<p>If we run the code we will have:</p>
<pre><code>ghci&gt;testDeutschsAlgorithm
Function is constant
Function is constant
Function is balanced
Function is balanced</code></pre>
<h2 id="conclusions">Conclusions</h2>
<p>As we can see in this first example, running an algorithm, even a simple one, on a quantum computer can be faster than running it on a classical computer.</p>
<p>About the implemented library, as I said, you can download it from the links that I specified before and these articles and examples of code will be used as a “How to use..” for the library.</p>
<div class="header">
<a href="../blog.html">← Posts</a>
</div>
<div class="header">
<a href="../blog.html">← Posts</a>
</div>
<div class="header"> <a href="../blog.html">&larr; Posts</a> </div>
</body>
</html>
